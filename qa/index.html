<!DOCTYPE html>
<html lang="en" ng-app="qaChecklistApp">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
		<title>QA Checklist</title>

		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/normalize.min.css"/>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.1.1/foundation.min.css"/>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/vendor/modernizr.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
		
		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
		<style>
			header{
				margin-bottom: 2em;
			}
			
			.qac-report-failed-item-container{
				padding: .5em 1em;
				
			}
			
			.qac-total-stat{
				margin-bottom: 0;
				border-radius: 5px;
			}
			
			.qac-screen-component-header{
				background: #3E3E3E;
			    font-size: .75rem;
			}
			
			.qac-screen-component-key{
			    padding: .5em;
			    border-radius: 3px;
			    margin: 0 .2em .2em .2em;
			}
			
			.qac-screen-object-data-header{
				background: #3E3E3E;
			}
			
			.qac-screen-object-data-header a{
			    font-size: .75rem;
			}
			
			.qac-screen-component-item{
				background: #6E6E6E;
				
			}
			
			.qac-screen-object-data-header{
				background: #6E6E6E;
			}
			
			.qac-screen-group-header{
				background: black;
				border: none;
			}
			
			.accordion-content,.tabs-panel{
				padding: 0;
			}
			
			.tabs-content{
				border: none;
			}
			
			.callout,.button-group{
				margin-bottom: 0;
				border-top: none;
				border-right: none;
				border-left: none;
			}
			
			@media print
			{    
			    .no-print, .no-print *
			    {
			        display: none !important;
			    }
				
				#myChart{
					height: 200px;
					width: 200px;
				}
			}
		</style>
		
		<script>
			window["qac"] = {
				"data": {
					"screens": {
						
						/**
						 * System
						 */
						
						"system-main-menu": {
							"id": "system-main-menu",
							"type": "screen",
							"level": 0,
							"name": "Main Menu",
							"group": "System"
						},
						"system-contact-select": {
							"id": "system-contact-select",
							"type": "screen",
							"level": 2,
							"name": "Contact Select",
							"group": "System"
						},
						
						/**
						 * Dashboard
						 */
						
						"dashboard-main": {
							"id": "dashboard-main",
							"type": "screen",
							"level": 0,
							"name": "Main",
							"group": "Dashboard"
						},
						
						/**
						 * Opportunities
						 */
						
						"opportunities-list": {
							"id": "opportunities-list",
							"type": "screen",
							"level": 0,
							"name": "List",
							"group": "Opportunities"
						},
						"opportunities-create": {
							"id": "opportunities-create",
							"type": "screen",
							"level": 1,
							"name": "Create",
							"group": "Opportunities"
						},
						"opportunities-details": {
							"id": "opportunities-details",
							"type": "screen",
							"level": 1,
							"name": "Details",
							"group": "Opportunities"
						},
						"opportunities-lanes": {
							"id": "opportunities-lanes",
							"type": "screen",
							"level": 1,
							"name": "Lanes",
							"group": "Opportunities"
						},
						"opportunities-contacts": {
							"id": "opportunities-contacts",
							"type": "screen",
							"level": 1,
							"name": "Contacts",
							"group": "Opportunities"
						},
						"opportunities-activities": {
							"id": "opportunities-activities",
							"type": "screen",
							"level": 1,
							"name": "Activities",
							"group": "Opportunities"
						},
						
						/**
						 * Accounts
						 */
						
						"accounts-list": {
							"id": "accounts-list",
							"type": "screen",
							"level": 0,
							"name": "List",
							"group": "Accounts"
						},
						"accounts-create": {
							"id": "accounts-create",
							"type": "screen",
							"level": 1,
							"name": "Create",
							"group": "Accounts"
						},
						"accounts-details": {
							"id": "accounts-details",
							"type": "screen",
							"level": 1,
							"name": "Details",
							"group": "Accounts"
						},
						"accounts-other": {
							"id": "accounts-other",
							"type": "screen",
							"level": 1,
							"name": "Other",
							"group": "Accounts"
						},
						"accounts-contacts": {
							"id": "accounts-contacts",
							"type": "screen",
							"level": 1,
							"name": "Contacts",
							"group": "Accounts"
						},
						"accounts-opportunities": {
							"id": "accounts-opportunities",
							"type": "screen",
							"level": 1,
							"name": "Opportunities",
							"group": "Accounts"
						},
						
						/**
						 * Contacts
						 */
						
						"contacts-list": {
							"id": "contacts-list",
							"type": "screen",
							"level": 0,
							"name": "List",
							"group": "Contacts"
						},
						"contacts-create": {
							"id": "contacts-create",
							"type": "screen",
							"level": 1,
							"name": "Create",
							"group": "Contacts"
						},
						"contacts-details": {
							"id": "contacts-details",
							"type": "screen",
							"level": 1,
							"name": "Details",
							"group": "Contacts"
						},
						"contacts-opportunities": {
							"id": "contacts-opportunities",
							"type": "screen",
							"level": 1,
							"name": "Opportunities",
							"group": "Contacts"
						},
						
						/**
						 * Leads
						 */
						
						"leads-list": {
							"id": "leads-list",
							"type": "screen",
							"level": 0,
							"name": "List",
							"group": "Leads"
						},
						"leads-create": {
							"id": "leads-create",
							"type": "screen",
							"level": 1,
							"name": "Create",
							"group": "Leads"
						},
						"leads-details": {
							"id": "leads-details",
							"type": "screen",
							"level": 1,
							"name": "Details",
							"group": "Leads"
						},
						"leads-freight": {
							"id": "leads-freight",
							"type": "screen",
							"level": 1,
							"name": "Freight",
							"group": "Leads"
						},
						"leads-contacts": {
							"id": "leads-contacts",
							"type": "screen",
							"level": 1,
							"name": "Contacts",
							"group": "Leads"
						},
						"leads-opportunities": {
							"id": "leads-opportunities",
							"type": "screen",
							"level": 1,
							"name": "Opportunities",
							"group": "Leads"
						},
						
						/**
						 * My Profile
						 */
						
						"my-profile-main": {
							"id": "my-profile-main",
							"type": "screen",
							"level": 0,
							"name": "Main",
							"group": "My Profile"
						},
						
						/**
						 * Sync
						 */
						
						"sync-main": {
							"id": "sync-main",
							"type": "screen",
							"level": 0,
							"name": "Main",
							"group": "Sync"
						},
						
						/**
						 * About
						 */
						
						"about-main": {
							"id": "about-main",
							"type": "screen",
							"level": 0,
							"name": "Main",
							"group": "About"
						},
					},
					
					"objects": {
						"Opportunity": {
							"id": "opportunity",
							"name": "Opportunity",
							"properties": {
								"company-name": {
									"id": "company-name",
									"name": "Company Name",
									"type": "input-search",
									"placeholder": "",
									"validations": ["required"],
									"group": false,
									"displayed": true,
									"editable": true,
									"screens": ["opportunities-details", "opportunities-create"]
								}
							}
						}
					},
					
					"components": {
						"list": {
							"id": "list",
							"name": "List Component",
							"screens": {
								"system-contact-select": {
									"state": "inline"
								}, 
								"dashboard": {
									"state": "inline"
								}, 
								"opportunities-list": {
									"state": "full-screen"
								}, 
								"opportunities-lanes": {
									"state": "normal"
								}, 
								"opportunities-contacts": {
									"state": "normal"
								}, 
								"opportunities-activities": {
									"state": "normal"
								}, 
								"accounts-list": {
									"state": "full-screen"
								}, 
								"accounts-contacts": {
									"state": "normal"
								},
								"accounts-opportunities": {
									"state": "normal"
								},
								"contacts-list": {
									"state": "full-screen"
								},
								"contacts-opportunities": {
									"state": "normal"
								},
								"leads-list": {
									"state": "full-screen"
								},
								"leads-contacts": {
									"state": "normal"
								},
								"leads-opportunities": {
									"state": "normal"
								}
							}
						},
						
						"navigation-bar": {
							"id": "navigation-bar",
							"name": "Navigation Bar Component",
							"screens": {
								"system-contact-select": {
									"state": "sublevel-back-only"
								}, 
								"dashboard-main": {
									"state": "add"
								}, 
								"opportunities-list": {
									"state": "add"
								}, 
								"opportunities-create": {
									"state": "sublevel-save"
								}, 
								"opportunities-details": {
									"state": "sublevel-edit"
								}, 
								"opportunities-lanes": {
									"state": "sublevel-add"
								}, 
								"opportunities-contacts": {
									"state": "sublevel-add"
								}, 
								"opportunities-activities": {
									"state": "sublevel-add"
								}, 
								"accounts-list": {
									"state": "add"
								}, 
								"accounts-create": {
									"state": "sublevel-save"
								},
								"accounts-details": {
									"state": "sublevel-edit"
								},
								"accounts-other": {
									"state": "sublevel-edit"
								},
								"accounts-contacts": {
									"state": "sublevel-add"
								},
								"accounts-opportunities": {
									"state": "sublevel-add"
								},
								"contacts-list": {
									"state": "add"
								},
								"contacts-create": {
									"state": "sublevel-save"
								},
								"contacts-details": {
									"state": "sublevel-edit"
								},
								"contacts-opportunities": {
									"state": "sublevel-add"
								},
								"leads-list": {
									"state": "add"
								},
								"leads-create": {
									"state": "sublevel-save"
								},
								"leads-details": {
									"state": "sublevel-edit"
								},
								"leads-freight": {
									"state": "sublevel-edit"
								},
								"leads-contacts": {
									"state": "sublevel-add"
								},
								"leads-opportunities": {
									"state": "sublevel-add"
								},
								"my-profile-main": {
									"state": "add"
								},
								"sync-main": {
									"state": "add"
								},
								"about-main": {
									"state": "add"
								}
							}
						}
					},
					
					"cases": [
						
						/**
						 * Main Menu
						 */
						{
							"type": "check",
							"group": "Functionality",
							"question": "Open by menu button in top left corner when closed",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Close by menu button in top left corner when open",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Open by swipe when closed",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Close by swipe when open",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Close by clicking outside of menu (click does not propagate outside of menu)",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Current screen shows active in menu",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Selecting menu item goes to expected screen",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Selecting menu item closes menu",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Selecting menu item but not fully engaging highlights menu item",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Selecting profile avatar goes to My Profile screen",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "If menu list overflows screen height, scrolling is enabled",
							"screens": ["system-main-menu"]
						},
						
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "When open, only ¾’ths of screen is consumed by menu",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Profile data container consumes ⅓ of screen height",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Profile data container is centered",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Profile data container has light blue background",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Profile data avatar image is set to correct resolution for screen size",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Menu items are capitalized",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Menu item have icons",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Menu item icons are correct for their menu item",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Menu item icons are unique",
							"screens": ["system-main-menu"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Menu item icons are correct size",
							"screens": ["system-main-menu"]
						},
						
						/**
						 * Contact Select
						 */
						{
							"type": "check",
							"group": "Functionality",
							"question": "Selecting a contact in the list highlights the item in order to move between lists",
							"screens": ["system-contact-select"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Selecting an item that has already been selected will unselect that item",
							"screens": ["system-contact-select"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Selecting another item unselects previously selected items",
							"screens": ["system-contact-select"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Pressing “Add” control option when an item is selected in the items available list moves it to the items selected list",
							"screens": ["system-contact-select"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Pressing “Add” control option when an item isn’t selected does nothing",
							"screens": ["system-contact-select"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Pressing “Remove” control option when an item is selected in the items selected list moves it to the items available list",
							"screens": ["system-contact-select"]
						},
						{
							"type": "check",
							"group": "Functionality",
							"question": "Pressing “Remove” control option when an item isn’t selected does nothing",
							"screens": ["system-contact-select"]
						},
						
						
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Buttons have light blue background color and correct icons",
							"screens": ["system-contact-select"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "List controls show option to add or delete a list item",
							"screens": ["system-contact-select"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "List shows a maximum of 15 items and overflow initializes scrolling",
							"screens": ["system-contact-select"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Buttons have light blue background color and correct icons",
							"screens": ["system-contact-select"]
						},
						
						/**
						 * Nav Bar Component
						 */
						
						{
							"type": "check",
							"group": "Functionality",
							"question": "Header has Back button that leads to previous expected screen",
							"components": {
								"navigation-bar": ["sublevel-back-only", "sublevel-add", "sublevel-edit", "sublevel-save"]
							}
						},
						
						/**
						 * List Component
						 */
						
						// {
						// 	"type": "check",
						// 	"group": "Functionality",
						// 	"question": "",
						// 	"components": {
						// 		"list": ["normal"]
						// 	}
						// },
						
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Empty result sets show an empty message",
							"components": {
								"list": ["inline", "normal", "full-screen"]
							}
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Empty message has light blue font color",
							"components": {
								"list": ["inline", "normal", "full-screen"]
							}
						},
						// {
						// 	"type": "check",
						// 	"group": "Aesthetic & Layout",
						// 	"question": "",
						// 	"components": {
						// 		"list": ["normal"]
						// 	}
						// },
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "List headers are bold and padded",
							"components": {
								"list": ["inline"]
							}
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "List respects data limit of 10 maximum rows and overflow initializes scrolling",
							"components": {
								"list": ["inline"]
							}
						},
						
						/**
						 * Opportunities
						 */
						
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Primary header left column is in larger font size",
							"screens": ["opportunities-details"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Primary header left column is bold and in light blue font color",
							"screens": ["opportunities-details"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Primary header right column Sales Stage bubble is correct color and has contrasting font color",
							"screens": ["opportunities-details"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Secondary header left column is in light grey font color",
							"screens": ["opportunities-details"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Secondary header right column in in light grey font color",
							"screens": ["opportunities-details"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Third header left column is bold and in light blue font color",
							"screens": ["opportunities-details"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Third header right column has Total Revenue and is currency formatted",
							"screens": ["opportunities-details"]
						},
						{
							"type": "check",
							"group": "Aesthetic & Layout",
							"question": "Third header right column is bold and in light grey font color",
							"screens": ["opportunities-details"]
						}
						
						
					]
				}
			};
			
			var QACApp = angular.module("qaChecklistApp", []);
			
			QACApp.value("mode", "collection");
			
			QACApp.value("qaObjects", {});
			QACApp.value("qaObjectProperties", {});
			QACApp.value("screens", {});
			QACApp.value("testCases", []);
			QACApp.value("testCaseComponents", {});

			QACApp.factory("TestCaseResultsManager", function TestCaseResultsManagerFactory() {
				return {
					"results": [],
					"passing": [],
					"failing": [],
					"empty": [],
					"totalPass": function(){
						this.passing = this.results.filter(function(testCaseResult){ return testCaseResult.result == "pass"; });
						return this.passing.length;
					},
					"totalFail": function(){
						this.failing = this.results.filter(function(testCaseResult){ return testCaseResult.result == "fail"; });
						return this.failing.length
					},
					"totalEmpty": function(){
						this.empty = this.results.filter(function(testCaseResult){ return !testCaseResult.result; });
						return this.empty.length
					}
				};
			});
			
			QACApp.factory("TestCaseResult", function TestCaseResultFactory() {
			
				function TestCaseResult(data) {
					this.result = null;
					this.comments = "";
					
					_.extendOwn( this, data );
				}
				
				return TestCaseResult;
			});
			
			QACApp.factory("QAObjectProperty", function QAObjectPropertyFactory() {
			
				function QAObjectProperty(data) {
					_.extendOwn( this, data );
				}
				
				return QAObjectProperty;
			});
			
			QACApp.factory("QAObject", ["QAObjectProperty", "qaObjectProperties", "screens", function QAObjectFactory(QAObjectProperty, qaObjectProperties, screens) {
			
				function QAObject(data) {
					var _this = this;
					var objectProperties = {};
					
					_.extendOwn( this, data );
					
					_.each( this.properties, function(propertyData, propertyDataKey){
						var newQAObjectProperty = new QAObjectProperty(propertyData);
						
						newQAObjectProperty.uid = _this.id+'-'+newQAObjectProperty.id;
						
						objectProperties[propertyDataKey] = newQAObjectProperty;
						
						qaObjectProperties[ newQAObjectProperty.uid ] = newQAObjectProperty;
					});
					
					this.properties = objectProperties;
				}
				
				
				QAObject.prototype.updateScreenPropertyMapping = function(){
					var _this = this;
					
					_.each( _this.properties, function(QAObjectProperty){
						_.each( QAObjectProperty.screens, function(checklistScreenID) {
							var checklistScreen = screens[checklistScreenID];
						
							if ( !("objects" in checklistScreen) ){
								checklistScreen.objects = {};
							}
						
							if ( !(_this.id in checklistScreen.objects) ){
								checklistScreen.objects[ _this.id ] = {
									"id": _this.id,
									"name": _this.name,
									"properties": {}
								};
							}
						
							checklistScreen.objects[ _this.id ].properties[ QAObjectProperty.uid ] = QAObjectProperty;
						});
					});
					
				};
				
				return QAObject;
			}]);

			
			QACApp.factory("TestCase", function TestCaseFactory() {
			
				function TestCase(data) {
					_.extendOwn( this, data );
				}
				
				return TestCase;
			});
			
			QACApp.factory("TestCaseComponent", ["testCases", function TestCaseComponentFactory(testCases) {
			
				function TestCaseComponent(data) {
					_.extendOwn( this, data );
				}
				
				TestCaseComponent.prototype.getTestCases = function(checklistScreen){
					var _this = this;
					
					var filteredTestCases = testCases.filter(function(testCase){
						return testCase.components && _this.id in testCase.components && testCase.components[ _this.id ].indexOf( _this.screens[ checklistScreen.id ].state ) !== -1;
					});
					
					return filteredTestCases;
				}
				
				return TestCaseComponent;
			}]);
			
			QACApp.factory("ChecklistScreen", ["testCases", "testCaseComponents", function ChecklistScreenFactory(testCases, testCaseComponents) {
				var types = ["screen"];

				function ChecklistScreen(data) {
					_.extendOwn( this, data );
					
					this.results = {};
				}
				
				
			    ChecklistScreen.types = angular.copy(types);
				
				ChecklistScreen.prototype.groups = [];
				
				ChecklistScreen.prototype.getTestCases = function(){
					var id = this.id;
					
					var filteredTestCases = testCases.filter(function(testCase){ 
						return testCase.screens && testCase.screens.indexOf( id ) !== -1;
					});
					
					return filteredTestCases;
				}
				
				ChecklistScreen.prototype.getTestCaseComponents = function(){
					var id = this.id;
					
					var filteredTestCaseComponents = {};
					_.each( testCaseComponents, function (testCaseComponent) {
						if (testCaseComponent.screens[ id ]){
							filteredTestCaseComponents[ testCaseComponent.id ] = testCaseComponent;
						}
					});
					
					return filteredTestCaseComponents;
				}
				
				ChecklistScreen.prototype.setupTestCaseGroups = function(){
					var _this = this;
					var testCaseGroups = {};
					var testCasesByGroup = [];
				
					var filteredTestCases = this.getTestCases();
					_.each( filteredTestCases, function (testCase) {
						if ( !(testCase.group in testCaseGroups) ){
							var groupID = testCase.group.toLowerCase().replace(/\s+/gim,'-').replace(/[^\w-]/gim,'');
							testCaseGroups[ testCase.group ] = {
								"name": testCase.group,
								"id": groupID,
								"testCases": [],
								"components": {}
							};
						}
						
						testCaseGroups[ testCase.group ].testCases.push( testCase );
					});
					
					
					var filteredTestCaseComponents = this.getTestCaseComponents();
					_.each( filteredTestCaseComponents, function (testCaseComponent) {
						var filteredTestComponentTestCases = testCaseComponent.getTestCases( _this );
						
						_.each( filteredTestComponentTestCases, function (testCase) {
							if ( !(testCase.group in testCaseGroups) ){
								var groupID = testCase.group.toLowerCase().replace(/\s+/gim,'-').replace(/[^\w-]/gim,'');
								testCaseGroups[ testCase.group ] = {
									"name": testCase.group,
									"id": groupID,
									"testCases": [],
									"components": {}
								};
							}
							
							if ( !(testCaseComponent.id in testCaseGroups[ testCase.group ].components ) ){
								testCaseGroups[ testCase.group ].components[ testCaseComponent.id ] = {
									"name": testCaseComponent.name,
									"id": testCaseComponent.id,
									"testCases": []
								};
							}
						
							testCaseGroups[ testCase.group ].components[ testCaseComponent.id ].testCases.push( testCase );
						});
					});
					
					_this.groups = testCaseGroups;
				}
				
				return ChecklistScreen;
			}]);
			
			QACApp.controller("ScreenListController", ["$scope", "ChecklistScreen", "TestCase", "TestCaseComponent", "QAObject", "screens", "testCases", "testCaseComponents", "qaObjects", function ScreenListController($scope, ChecklistScreen, TestCase, TestCaseComponent, QAObject, screens, testCases, testCaseComponents, qaObjects) {

				$scope.loadData = function () {
					var screensData = window.qac.data.screens;
					var testCasesData = window.qac.data.cases;
					var testCaseComponentsData = window.qac.data.components;
					var qaObjectsData = window.qac.data.objects;
				
					_.each( screensData, function (screenData) {
						var newChecklistScreen = new ChecklistScreen( screenData );
				
						screens[ newChecklistScreen.id ] = newChecklistScreen;
					});
				
					_.each( testCasesData, function (testCaseData) {
						var newTestCase = new TestCase( testCaseData );
				
						testCases.push( newTestCase );
					});
				
					_.each( testCaseComponentsData, function (testCaseComponentData) {
						var newTestCaseComponent = new TestCaseComponent( testCaseComponentData );
				
						testCaseComponents[ newTestCaseComponent.id ] = newTestCaseComponent;
					});
					
					_.each( qaObjectsData, function (qaObjectData) {
						var newQAObject = new QAObject( qaObjectData );
						
						newQAObject.updateScreenPropertyMapping();
						
						qaObjects[ newQAObject.id ] = newQAObject;
					});
					
				}
								
				$scope.setupGroups = function () {
					var screenGroups = {};
				
					_.each( screens, function (checklistScreen) {
						if ( !(checklistScreen.group in screenGroups) ){
							var groupID = checklistScreen.group.toLowerCase().replace(/\s+/gim,'-').replace(/[^\w-]/gim,'');
							screenGroups[ checklistScreen.group ] = {
								"name": checklistScreen.group,
								"id": groupID,
								"screens": {}
							};
						}
				
						screenGroups[ checklistScreen.group ].screens[ checklistScreen.id ] = checklistScreen;
					});
					
					$scope.groups = screenGroups;

					return screenGroups;
				};
			}]);
			
			
			
			QACApp.controller("TestCaseController", ["$scope", "TestCaseResult", "TestCaseResultsManager", function TestCaseController($scope, TestCaseResult, TestCaseResultsManager) {
				
				$scope.testCaseResult = new TestCaseResult({
					"testCase": $scope.testCase,
					"screen": $scope.screen,
					"result": null
				});
				
				$scope.commenting = false;
				$scope.testo = "wuuut";
				
				TestCaseResultsManager.results.push( $scope.testCaseResult );
				
				$scope.setResultPass = function(){
					$scope.testCaseResult.result = "pass";
				}

				$scope.setResultFail = function(){
					$scope.testCaseResult.result = "fail";
				}
				
				$scope.toggleComments = function(){
					$scope.commenting = !$scope.commenting;
				}
			}]);
			
			QACApp.controller("ReportResultsController", ["$scope", "TestCaseResultsManager", function TestCaseController($scope, TestCaseResultsManager) {
				
				$scope.totals = TestCaseResultsManager;
			}]);
 			   
			   
			QACApp.controller("ModeController", ["$rootScope", "$scope", "mode", "TestCaseResultsManager", function ModeController($rootScope, $scope, mode, TestCaseResultsManager) {
				
				$scope.mode = mode;
				
				$scope.$on("mode", function(e, newMode){
					$scope.mode = newMode;
				})
				
				$scope.generateReport = function(){
					$rootScope.$broadcast("mode", "reporting");
					
					var chartData = [
					    {
					        "value": TestCaseResultsManager.totalFail(),
					        "color":"#F7464A",
					        "highlight": "#FF5A5E",
					        "label": "Fail"
					    },
					    {
					        "value": TestCaseResultsManager.totalPass(),
					        "color": "#46BFBD",
					        "highlight": "#5AD3D1",
					        "label": "Pass"
					    },
					    {
					        "value": TestCaseResultsManager.totalEmpty(),
					        "color": "#FDB45C",
					        "highlight": "#FFC870",
					        "label": "N/A"
					    }
					];
					
					setTimeout(function(chartData){
						var newChart = new Chart( $("#myChart").get(0).getContext("2d") ).Doughnut(chartData, {
						    "legendTemplate": "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>"
						});
					}, 200, chartData)
					
					
				}
				
				$scope.startCollection = function(){
					$rootScope.$broadcast("mode", "collection");
				}
			}]);
			
			QACApp.controller("ReportController", ["$scope", "TestCaseResultsManager", function ReportController($scope, TestCaseResultsManager) {
				$scope.postedDate = new Date();
				$scope.results = TestCaseResultsManager;
			}]);
			
			
		</script>
	</head>
	<body>
		
		<header class="no-print" data-sticky-container ng-controller="ModeController">
			<section data-sticky style="width:100%;" data-margin-bottom="0" data-margin-top="0">
				<nav class="top-bar">
					<div class="row">
						<div class="top-bar-left">
							<ul class="dropdown menu">
								<li class="menu-text">QA Checklist</li>
							</ul>
						</div>
						<div class="top-bar-right">
							<ul class="menu">
								<li ng-controller="ReportResultsController">
									<span class="qac-total-stat button tiny success">Pass: {{totals.totalPass()}} <i class="fa fa-check"></i></span>
									<span class="qac-total-stat button tiny alert">Fail: {{totals.totalFail()}} <i class="fa fa-times"></i></span>
									<span class="qac-total-stat button tiny secondary">Total: {{totals.totalEmpty()}}</span>
								</li>
								<li><div style="width: 2em;"></div></li>
								<li>
									<button ng-if="mode=='collection'" type="button" class="button" ng-click="generateReport()">Generate Report</button>
									<button ng-if="mode=='reporting'" type="button" class="button alert" ng-click="startCollection()">Exit Report</button>
								</li>
							</ul>
						</div>
					</div>
				</nav>
			</section>
		</header>
		
		<section class="qac-generated-report hide" ng-class="{'hide': mode=='collection'}" ng-controller="ModeController">
			<div ng-controller="ReportController">
				<div class="row">
					<div class="small-4 columns">
						<canvas id="myChart"></canvas>
					</div>
					<div class="small-8 columns">
						<div class="row">
							<div class="small-8 columns">
								<h1>Checklist Results</h1>
								<h3>{{results.results.length}} Total Test Cases</h3>
							</div>
							<div class="small-4 text-right columns">
								<label>Date Produced: {{postedDate | date:'yyyy-MM-dd'}}</label>
								<label>Agent: Sean Murray</label>
								<label>Result: {{results.failing.length == 0 ? 'Pass' : 'Fail'}}</label>
							</div>
						</div>
					</div>
				</div>
				
				<div class="row">
					<div class="small-12 columns">
						<h3>{{results.failing.length}} Failing</h3>
						<hr/>
					</div>
					<div class="small-12 columns">
						<table width="100%">
							<thead>
								<tr>
									<th width="15%">Group</th>
									<th width="15%">Screen</th>
									<th width="15%">Type</th>
									<th>Test Case</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="failingResult in results.failing">
									<td>{{failingResult.screen.group}}</td>
									<td>{{failingResult.screen.name}}</td>
									<td>{{failingResult.testCase.group}}</td>
									<td>
										<label>{{failingResult.testCase.question}}</label>
										<hr ng-if="failingResult.comments"/>
										<div ng-if="failingResult.comments">
											<small><strong>Comments:</strong> {{failingResult.comments}}</small>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>

			</div>
		</section>
					
		<section class="qac-main" ng-class="{'hide': mode=='reporting'}" ng-controller="ModeController">
			<div class="row">
				<div class="large-12 columns">
					<h3>QA Checklist</h3>
					<p>Maintain your QA Checklists and generate result reports.</p>
				</div>
			</div>
			<div class="row">
				<div class="small-12 columns">
					<hr/>
					<ul class="tabs" data-tabs id="example-tabs">
						<li class="tabs-title is-active"><a href="#qac-checklist-container" aria-selected="true">Checklist</a></li>
						<li class="tabs-title"><a href="#panel2">Objects</a></li>
						<li class="tabs-title"><a href="#panel2">Components</a></li>
					</ul>
					<div class="tabs-content" data-tabs-content="example-tabs">
						<div class="tabs-panel is-active" id="qac-checklist-container">
							<ul class="accordion" data-accordion role="tablist" data-multi-expand="true" data-allow-all-closed="true" ng-init="loadData(); setupGroups()" ng-controller="ScreenListController as screenList">
								<li class="accordion-item" ng-init="cindex = $index" ng-repeat="group in groups">
									<a href="#qac-group--{{group.id}}" role="tab" class="accordion-title" id="qac-group--{{group.id}}-heading" aria-controls="qac-group--{{group.id}}">{{cindex+1}}. {{group.name}}</a>
									<div id="qac-group--{{group.id}}" class="accordion-content" role="tabpanel" data-tab-content aria-labelledby="qac-group--{{group.id}}-heading">
										<ul class="tabs qac-group-screen-tabs-header primary" data-tabs id="qac-group-screen-tabs--{{group.id}}">
											<li class="tabs-title {{$first?'is-active':''}}" ng-init="sindex = $index" ng-repeat="screen in group.screens"><a href="#qac-group-screen-tab--{{screen.id}}" aria-selected="true">{{sindex+1}}. {{screen.name}}</a></li>
										</ul>
						
										<div class="tabs-content" data-tabs-content="qac-group-screen-tabs--{{group.id}}">
											<div class="tabs-panel {{$first?'is-active':''}}" id="qac-group-screen-tab--{{screen.id}}" ng-init="sindex = $index; screen.setupTestCaseGroups();" ng-repeat="screen in group.screens">

												<ul class="accordion" data-accordion data-multi-expand="true" data-allow-all-closed="true" role="tablist">
													<li class="accordion-item is-active" ng-init="tccindex = $index;" ng-repeat="testCaseGroup in screen.groups">
														<a href="#qac-group--{{group.id}}-{{screen.id}}-{{testCaseGroup.id}}" role="tab" class="accordion-title qac-screen-group-header" id="qac-group--{{group.id}}-{{screen.id}}-{{testCaseGroup.id}}-heading" aria-controls="qac-group--{{group.id}}-{{screen.id}}-{{testCaseGroup.id}}">{{tccindex+1}}. {{testCaseGroup.name}}</a>
														<div id="qac-group--{{group.id}}-{{screen.id}}-{{testCaseGroup.id}}" class="accordion-content" role="tabpanel" data-tab-content aria-labelledby="qac-group--{{group.id}}-{{screen.id}}-{{testCaseGroup.id}}-heading">
															
															<div class="callout" ng-init="tcindex = $index" ng-repeat="testCase in testCaseGroup.testCases">
																<div class="row" ng-controller="TestCaseController">
																	<div class="small-9 columns">
																		<div class="row">
																			<div class="small-1 text-center columns"><span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="Full ID: {{cindex+1}}.{{sindex+1}}.{{tccindex+1}}.{{tcindex+1}}">{{tcindex+1}}</span></div>
																			<div class="small-10 columns">
																				<label>{{testCase.question}}</label>
																				<label ng-class="{'hide': !commenting}">
																					Comments
																					<textarea placeholder="Steps to reproduce..." ng-model="testCaseResult.comments"></textarea>
																				</label>
																			</div>
																			<div class="small-1 columns" ng-class="{'hide': !testCaseResult.result}"><a ng-click="toggleComments()"><i class="fa fa-plus"></i></a></div>
																		</div>
																	</div>
																	<div class="small-3 columns text-center">
																		<div class="expanded tiny button-group">
																			<a class="button alert result fail" ng-class="{'hollow': !testCaseResult.result || testCaseResult.result != 'fail'}" ng-click="setResultFail()"><i class="fa fa-times"></i> Fail</a>
																			<a class="button success result pass" ng-class="{'hollow': !testCaseResult.result || testCaseResult.result != 'pass'}" ng-click="setResultPass()"><i class="fa fa-check"></i> Pass</a>
																		</div>
																	</div>
																</div>
															</div>

															<div class="qac-screen-component-container" ng-init="tcsindex = $index" ng-repeat="testCaseGroupComponent in testCaseGroup.components">
																<div class="callout qac-screen-component-header">
																	<a href="#"><i class="fa fa-angle-right"></i> <span class="qac-screen-component-key button warning"></span> {{testCaseGroupComponent.name}}</a>
																</div>
																<div class="callout warning" ng-init="tcindex = $index" ng-repeat="testCase in testCaseGroupComponent.testCases">
																	<div class="row" ng-controller="TestCaseController">
																		<div class="small-9 columns">
																			<div class="row">
																				<div class="small-1 text-center columns"><span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="Full ID: {{cindex+1}}.{{sindex+1}}.{{tccindex+1}}.C.{{tcindex+1}}">{{tcindex+1}}</span></div>
																				<div class="small-10 columns">
																					<label>{{testCase.question}}</label>
																					<label ng-class="{'hide': !commenting}">
																						Comments
																						<textarea placeholder="Steps to reproduce..." ng-model="testCaseResult.comments"></textarea>
																					</label>
																				</div>
																				<div class="small-1 columns" ng-class="{'hide': !testCaseResult.result}"><a ng-click="toggleComments()"><i class="fa fa-plus"></i></a></div>
																			</div>
																		</div>
																		<div class="small-3 columns text-center">
																			<div class="expanded tiny button-group">
																				<a class="button alert result fail" ng-class="{'hollow': !testCaseResult.result || testCaseResult.result != 'fail'}" ng-click="setResultFail()"><i class="fa fa-times"></i> Fail</a>
																				<a class="button success result pass" ng-class="{'hollow': !testCaseResult.result || testCaseResult.result != 'pass'}" ng-click="setResultPass()"><i class="fa fa-check"></i> Pass</a>
																			</div>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</li>
													
													
													
													<li class="accordion-item is-active" ng-if="screen.objects">
														<a href="#qac-group--{{group.id}}-{{screen.id}}-{{object.id}}" role="tab" class="accordion-title qac-screen-group-header" id="qac-group--{{group.id}}-{{screen.id}}-{{object.id}}-heading" aria-controls="qac-group--{{group.id}}-{{screen.id}}-{{object.id}}">{{tccindex+1}}. Data</a>
														<div id="qac-group--{{group.id}}-{{screen.id}}-{{object.id}}" class="accordion-content" role="tabpanel" data-tab-content aria-labelledby="qac-group--{{group.id}}-{{screen.id}}-{{object.id}}-heading">
															<div class="qac-object-data-container" ng-init="oindex = $index" ng-repeat="object in screen.objects">
																<div class="callout qac-screen-object-data-header">
																	<a href="#"><i class="fa fa-angle-right"></i> <span class="qac-screen-component-key button primary"></span> {{object.name}}</a>
																</div>
																<div class="callout primary"  ng-init="opindex = $index" ng-repeat="property in object.properties">
																	<div class="row" ng-controller="TestCaseController">
																		<div class="small-9 columns">
																			<div class="row">
																				<div class="small-1 text-center columns"><span data-tooltip aria-haspopup="true" class="has-tip" data-disable-hover="false" tabindex="1" title="Full ID: {{cindex+1}}.{{sindex+1}}.{{tccindex+1}}.OP.{{oindex+1}}">{{opindex+1}}</span></div>
																				<div class="small-10 columns">
																					<label>{{property.name}}</label>
																					<label ng-class="{'hide': !commenting}">
																						Comments
																						<textarea placeholder="Steps to reproduce..." ng-model="testCaseResult.comments"></textarea>
																					</label>
																				</div>
																				<div class="small-1 columns" ng-class="{'hide': !testCaseResult.result}"><a ng-click="toggleComments()"><i class="fa fa-plus"></i></a></div>
																			</div>
																		</div>
																		<div class="small-3 columns text-center">
																			<div class="expanded tiny button-group">
																				<a class="button alert result fail" ng-class="{'hollow': !testCaseResult.result || testCaseResult.result != 'fail'}" ng-click="setResultFail()"><i class="fa fa-times"></i> Fail</a>
																				<a class="button success result pass" ng-class="{'hollow': !testCaseResult.result || testCaseResult.result != 'pass'}" ng-click="setResultPass()"><i class="fa fa-check"></i> Pass</a>
																			</div>
																		</div>
																	</div>
																</div>
															</div>
															
															
														</div>
													</li>
													
												</ul>
											</div>
										</div>
									</div>
								</li>
							</ul>
						</div>
					
						<div class="tabs-panel" id="qac-objects-container"></div>
						<div class="tabs-panel" id="qac-screen-components-container"></div>
					</div>
				</div>
			</div>
		</section>

	
	    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/numeral.js/1.4.5/numeral.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.1.1/foundation.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>


		<script>
			$(function(){
			
				$(document).foundation();
			});
		</script>
	</body>
</html>